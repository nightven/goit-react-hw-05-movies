{"version":3,"file":"static/js/158.237d3472.chunk.js","mappings":"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","sources":["components/CardItem/CardItem.styled.js","components/CardItem/CardItem.jsx","components/CardList/CardList.styled.js","components/CardList/CardList.jsx","pages/Home.styled.js","pages/Movies.styled.js","pages/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nconst ListItem = styled.li`\n  padding: 10px;\n  background-color: #9749c8;\n  color: black;\n  border: 1px solid #b2acb6;\n  box-shadow: 0px 4px 19px 12px #b2acb6,0px 10px 15px -3px #b2acb6;\n  img{\n    margin:0 auto;\n  }\n\n  .title:visited {\n    text-decoration: none;\n    color: red;\n  }\n  &:hover,\n  :focus {\n    scale: 1.05;\n  \n  }\n`;\n\nexport default ListItem;\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport ListItem from './CardItem.styled';\n// import defaultIMG from '../../images/noun-default-image-5191452.png'\n\nconst CardItem = ({id, poster_path, title}) => {\n  const BASE_IMG_URL = 'https://image.tmdb.org/t/p/w300';\n  const location = useLocation()\n  return (\n    <ListItem>\n      <Link to={`/movies/${id}`} state={{from: location}}>\n        <img className='filmImg' src={`${BASE_IMG_URL}${poster_path}`} alt={title}  />\n      <h2 className='title'>{title}</h2>\n      </Link>\n    </ListItem>\n  );\n};\n\nexport default CardItem;\n","import styled from  \"styled-components\";\n\nconst List= styled.ul`\n display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 40px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport default List;","import CardItem from 'components/CardItem/CardItem';\nimport React from 'react'\nimport List from './CardList.styled';\n\nconst CardList = ({movies}) => {\n\n  return (\n    <List>\n        {movies.map(({id, poster_path, name, title}) => (  \n              \n       <CardItem key={id} id={id} poster_path={poster_path} title={name ?? title}/>      \n      ))}\n    </List>\n  )\n}\n\nexport default CardList;","import styled from 'styled-components';\n\nconst Container = styled.div`\n  max-width: 1200px;\n  padding-top: 16px;\n  margin: 0 auto;\n`;\n\nexport default Container;\n","import styled from 'styled-components';\n\nconst Container = styled.div`\ndisplay:flex;\n  max-width: 1200px;\n  padding-top: 16px;\n  margin: 0 auto;\n`;\n\nconst InputSearch = styled.input`\npadding: 16px;\nwidth: 100%;\nheight: 24px;\nmargin: 0 auto;\nmargin-bottom: 40px;\nborder: 1px solid #b2acb6;\nborder-radius: 8px;\nbackground-color: #9749c8;\ncolor: white;\n\nbox-shadow: 0px 4px 19px 12px #b2acb6,0px 10px 15px -3px #b2acb6;\n`;\n\nexport   {Container, InputSearch} ;","import { getMoviesForQuery } from 'api/api';\nimport CardList from 'components/CardList/CardList';\nimport Load from 'components/Load/Load';\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport Container from './Home.styled';\nimport { InputSearch } from './Movies.styled';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoadMore, setIsLoadMore] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('query') ?? '';\n  console.log();\n\n  useEffect(() => {\n    if (!search) return setIsLoadMore(false);\n  }, [search]);\n\n  useEffect(() => {\n    if (!search) return setMovies([]);\n    const getMoviesByQuery = async () => {\n      try {\n        setIsLoading(true);\n        setIsError(false);\n        const resp = await getMoviesForQuery(search, page);\n        if (page === 1) {\n          setMovies(resp.data.results);\n        } else {\n          setMovies(prevMovies => [...prevMovies, ...resp.data.results]);\n          setIsLoadMore(\n            resp.data.total_pages < Math.ceil(resp.data.total_result / 20)\n          );\n        }\n        setIsLoadMore(true);\n        setIsLoading(false);\n      } catch (error) {\n        setIsError(true);\n        setIsLoading(false);\n      }\n    };\n\n    getMoviesByQuery();\n  }, [searchParams, page, search]);\n\n  const loadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const updateQueryString = evt => {\n    if (evt.target.value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: evt.target.value.trim() });\n  };\n\n  return (\n    <Container>\n      <p>Search Movies</p>\n      <InputSearch\n        placeholder=\"Search\"\n        type=\"text\"\n        value={search}\n        onChange={updateQueryString}\n      />\n      {isLoading && <Load />}\n      {isError ? (\n        <div>\n          Oops, something went wrong, try again or enter a different query.\n        </div>\n      ) : (\n        movies.length !== 0 && <CardList movies={movies} />\n      )}\n      {isLoadMore && (\n        <button onClick={loadMore} type=\"button\">\n          Load more\n        </button>\n      )}\n    </Container>\n  );\n};\nexport default Movies;\n"],"names":["styled","_templateObject","_taggedTemplateLiteral","_ref","id","poster_path","title","location","useLocation","_jsx","ListItem","children","_jsxs","Link","to","concat","state","from","className","src","alt","movies","List","map","_ref2","name","CardItem","Container","InputSearch","_templateObject2","_searchParams$get","_useState","useState","_useState2","_slicedToArray","setMovies","_useState3","_useState4","page","setPage","_useState5","_useState6","isLoadMore","setIsLoadMore","_useState7","_useState8","isLoading","setIsLoading","_useState9","_useState10","isError","setIsError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","search","get","console","log","useEffect","getMoviesByQuery","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","wrap","_context","prev","next","getMoviesForQuery","sent","data","results","prevMovies","_toConsumableArray","total_pages","Math","ceil","total_result","t0","stop","apply","arguments","placeholder","type","value","onChange","evt","target","query","trim","Load","length","CardList","onClick","prevPage"],"sourceRoot":""}